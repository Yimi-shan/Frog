var oWrap=document.getElementById('wrap');var oClock=document.getElementById('clock');var oDock;var oWa_d;var aWa=[],aDiv=[];var aler_div;var mid='frog.mp3';var time;var ale=false;function init(){var dock_down=3;var one=false;var clock=0;function oDock_draw(){oDock=document.createElement('div');oWrap.appendChild(oDock);oDock.className='dock'}oDock_draw();function oWa_draw(){oWa_d=document.createElement('div');oWrap.appendChild(oWa_d);oWa_d.className='dock'}oWa_draw();function dock_draw(dock_down){for(var i=0;i<7;i++){var oImg=document.createElement('img');oImg.setAttribute('src','imgs/qingwa_dock.png');oImg.className='oimg';oDock.appendChild(oImg);oImg.style.left=i*45+'px';oImg.style.bottom=-22+'px';if(i==dock_down){oImg.style.bottom=-37+'px'}}}dock_draw(dock_down);for(var j=0;j<6;j++){var oDiv=document.createElement('div');if(j>=3){oDiv.className='odiv odiv1';oDiv.style.left=44.8*(j+1)+'px'}else{oDiv.className='odiv';oDiv.style.left=44.8*j+'px'}oWa_d.appendChild(oDiv);aDiv[j]=oDiv.offsetLeft;aWa[j]=oDiv}for(var k=0;k<aWa.length;k++){aWa[k].onclick=(function(k){return function(){var thissound=document.getElementById('audio1');one=true;if(one){clearInterval(time);time=setInterval(function(){clock+=.18;if(parseInt(clock)<=9){oClock.innerText='0'+clock.toFixed(2)}else{oClock.innerText=clock.toFixed(2)}},180)}var lef=Math.round(aDiv[k]/44.8);if(k>=3){if(lef-dock_down==1||lef-dock_down==2){thissound.play();var a=0;var b=aWa[k].offsetLeft-dock_down*44.8;var time2=setInterval(function(){a++;if(a<=2){if(b<50&&a==1){aWa[k].style.bottom='10px'}else if(b>40&&a==1){aWa[k].style.bottom='45px'}else{aWa[k].style.bottom='-3px'}aWa[k].style.backgroundPosition=-44.8*a+'px -45px';aWa[k].style.left=aWa[k].offsetLeft-b/2+'px';aDiv[k]=aWa[k].offsetLeft}else{clearInterval(time2)}},150);setTimeout(function(){oWrap.removeChild(oDock);dock_down=lef;oDock_draw();dock_draw(dock_down)},150)}}else if(k<3){if(lef-dock_down==-1||lef-dock_down==-2){thissound.play();var a=0;var b=dock_down*44.8-aWa[k].offsetLeft;var time2=setInterval(function(){a++;if(a<=2){if(b<50&&a==1){aWa[k].style.bottom='10px'}else if(b>40&&a==1){aWa[k].style.bottom='45px'}else{aWa[k].style.bottom='-3px'}aWa[k].style.backgroundPosition=-44.8*a+'px 0';aWa[k].style.left=aWa[k].offsetLeft+b/2+'px';aDiv[k]=aWa[k].offsetLeft}else{clearInterval(time2)}},150);setTimeout(function(){oWrap.removeChild(oDock);dock_down=lef;oDock_draw();dock_draw(dock_down)},150)}}if(aDiv[0]>=2.5*44.8&&aDiv[1]>=2.5*44.8&&aDiv[2]>=2.5*44.8&&aDiv[3]<3.5*44.8&&aDiv[4]<3.5*44.8&&aDiv[5]<3.5*44.8){ale=true;clearInterval(time);aler_div=document.createElement('div');aler_div.className='aler_div';oWrap.appendChild(aler_div);var aler=document.createElement('div');aler.className='aler';aler_div.appendChild(aler);aler.innerHTML='哇!你用了<i style="color:red;">'+clock.toFixed(2)+'</i>秒通过了游戏,赶快分享到朋友圈，和朋友们PK一下吧！'}}})(k)}}init();oWrap.children[2].onclick=function(){if(time){clearInterval(time)}if(oWa_d){oWrap.removeChild(oWa_d)}if(oDock){oWrap.removeChild(oDock)}var clock=0;oClock.innerText='00.00';if(ale){oWrap.removeChild(aler_div);ale=false}init()}